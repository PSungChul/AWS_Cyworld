# AWS_Cyworld
AWSë¥¼ í†µí•´ CyworldProjectë¥¼ ì„œë²„ì— ë°°í¬<br>
(ë³´ì•ˆì„±ìœ¼ë¡œ ì¸í•´ ì„œë²„ëŠ” ë”°ë¡œ ê³µê°œ X)

#

## ğŸ“Œ ì»¨ì…‰
	ê³¼ê±°ì˜ ì‹¸ì´ì›”ë“œ ì¬êµ¬í˜„ì„ í†µí•œ ì¶”ì–µ ì—¬í–‰ì„ ëª©ì ìœ¼ë¡œ ë¯¸ë‹ˆí™ˆí”¼ë¥¼ ì œì‘í•´ í™ˆ, í”„ë¡œí•„, ë‹¤ì´ì–´ë¦¬, ì‚¬ì§„ì²©, ë°©ëª…ë¡ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.

#

## ğŸ“Œ êµ¬ì„±ì› ë° ê¸°ê°„
	í”„ë¡ íŠ¸ì—”ë“œ 1ëª…, ë°±ì—”ë“œ 4ëª… ì´ 5ëª…ì´ì„œ íŒ€ì„ ê¾¸ë ¤ 2ì£¼ê°„(2022.11.22 ~ 2022.12.6) CyworldProjectë¥¼ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.
	ì´í›„ í˜¼ìì„œ ìœ ì§€ ë³´ìˆ˜ ë° ì¶”ê°€ì ì¸ ê¸°ëŠ¥ ì‘ì—…ë“¤ê³¼ ë”ë¶ˆì–´ AWSë¥¼ í†µí•´ CyworldProjectë¥¼ ì„œë²„ì— ë°°í¬í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤.

#

## ğŸ“Œ ë‚´ê°€ êµ¬í˜„í•œ ì£¼ìš” ê¸°ëŠ¥ë“¤
### âœ” ë¡œê·¸ì¸ & íšŒì›ê°€ì…
	naver Login API
	kakao Login API
	ì´ë©”ì¼ ì¸ì¦ SMTP
	ì£¼ì†Œ API
	ì•„ì´ë”” ì°¾ê¸°
	ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œê¸‰
### âœ” ë©”ì¸
	íˆ¬ë°ì´ (ì¡°íšŒìˆ˜)
	íŒŒë„íƒ€ê¸° (ì¼ì´Œ)
	ì¼ì´Œ ì‹ ì²­
	ì¼ì´Œí‰ ì‘ì„±
	ìœ ì € ê²€ìƒ‰
### âœ” í”„ë¡œí•„
	ë©”ì¸ ì‚¬ì§„ ë° ë©”ì¸ ì†Œê°œê¸€ ì‘ì„± ë° ìˆ˜ì •
	ë©”ì¸ íƒ€ì´í‹€ ì‘ì„± ë° ìˆ˜ì •
	ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì •
	ë¯¸ë‹ˆë¯¸ ë³€ê²½
### âœ” ì‚¬ì§„ì²© & ë°©ëª…ë¡
	ì¢‹ì•„ìš”
### âœ” ë¶€ê°€ ì—­í• ë“¤
	ë°ì´í„°ë² ì´ìŠ¤ ì „ì²´ ìƒì„± ë° ê´€ë¦¬
	í”„ë¡œì íŠ¸ ëª¨ë“  íŒŒì¼ ë³‘í•©
### âœ” í”„ë¡œì íŠ¸ ì´í›„ ì¶”ê°€í•œ ê¸°ëŠ¥ ë° History
	íœ´ëŒ€í° ë¬¸ì ì¸ì¦ ì¶”ê°€
	ì¸ì¦ë²ˆí˜¸ ì•”í˜¸í™” ì¶”ê°€
	ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ì¶”ê°€
 	Token ë° Redisë¥¼ ì¶”ê°€í•˜ì—¬ ë¡œê·¸ì¸ ë³´ì•ˆ ê°•í™”
  	ë¡œê·¸ì¸ í† í° ê´€ë¦¬ì— í—¤ë” ëŒ€ì‹  ì¿ í‚¤ë¡œ ë³€ê²½
	ìœ ì € ì •ë³´ì— ìƒë…„ì›”ì¼ ì»¬ëŸ¼ ì¶”ê°€
	Cyworld Login API êµ¬í˜„
	ApiKey í…Œì´ë¸” ì¶”ê°€, ìœ ì € ì •ë³´ì— API ë™ì˜ í•­ëª© ì²´í¬ ì»¬ëŸ¼ ì¶”ê°€
	API ë™ì˜ í•­ëª©ì„ í•„ìˆ˜ ë™ì˜ í•­ëª©ê³¼ ì„ íƒ ë™ì˜ í•­ëª©ìœ¼ë¡œ ë¶„ë¦¬
	ApiConsent í…Œì´ë¸” ì¶”ê°€
	URI í˜•ì‹ ë³€ê²½ (.do ì œê±°)
	íŒì—… ë° ê° ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë©”ì¸ í˜ì´ì§€ë“¤ì˜ URI í˜•ì‹ì„ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ì—ì„œ ê²½ë¡œ ë§¤ê°œë³€ìˆ˜ í˜•ì‹ìœ¼ë¡œ ë³€ê²½
	NICEPAY ê²°ì œ API ì—°ë™
	ìƒí’ˆ ì¶”ê°€ ë¡œì§ ë° í˜ì´ì§€ ì¶”ê°€
	ìƒí’ˆ ì •ë³´ í…Œì´ë¸” ì¶”ê°€
	íšŒì›ê°€ì… íœ´ëŒ€í° ë¬¸ì ì¸ì¦ --> ì´ë¦„ + ìƒë…„ì›”ì¼ + íœ´ëŒ€í° ë²ˆí˜¸ì— í•´ë‹¹í•˜ëŠ” ë³¸ì¸ì¸ì¦ìœ¼ë¡œ ë³€ê²½
	ë³¸ì¸ì¸ì¦ì€ IamPort API ì‚¬ìš©
	ì•„ì´ë”” --> ì´ë©”ì¼ë¡œ ë³€ê²½ - ì•„ì´ë”” ì»¬ëŸ¼ ì œê±°
	ì£¼ì†Œ ì œê±° - ì£¼ì†Œ ì»¬ëŸ¼, ìƒì„¸ ì£¼ì†Œ ì»¬ëŸ¼ ì œê±°
	ì´ë©”ì¼ ì¸ì¦ ë° ë³¸ì¸ì¸ì¦ì— ì¿ í‚¤ë¥¼ ì¶”ê°€í•˜ì—¬ Controllerì—ì„œ 2ì°¨ ìœ íš¨ì„± ê²€ì‚¬ ì§„í–‰
	ë„¤ì´ë²„ ë¡œê·¸ì¸ APIì—ì„œ ì´ë©”ì¼ì„ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì´ ë³€ê²½ë¨ì— ë”°ë¼ ë„¤ì´ë²„ íšŒì›ê°€ì… ë¡œì§ ë³€ê²½
	Role ê¶Œí•œ ì¶”ê°€ - ê¶Œí•œ ì»¬ëŸ¼ ì¶”ê°€
	ê´€ë¦¬ì ê²€ì¦ ë¡œì§ ì¶”ê°€
	ë¯¸ë‹ˆë¯¸ êµ¬ë§¤ ë¡œì§ ë³€ê²½
	ë¯¸ë‹ˆë¯¸ë¥¼ ìƒí’ˆìœ¼ë¡œ ë“±ë¡
	ìƒí’ˆ ë²ˆí˜¸ ì•”í˜¸í™” ë°©ì‹ ë³€ê²½
	ì‹±í’ˆ ì£¼ë¬¸ ë²ˆí˜¸ ìƒì„± ë°©ì‹ ë³€ê²½
	ìƒí’ˆ ê²°ì œ ë‚´ì—­ ì €ì¥
	ê²°ì œì™€ êµ¬ë§¤ë¥¼ ë¶„ë¥˜
	ê²°ì œ - ì¹´ë“œ ë“±ì„ ì´ìš©í•œ í˜„ì‹¤ ì¬í™” ì‚¬ìš©
	êµ¬ë§¤ - ë„í† ë¦¬ ë“±ì„ ì´ìš©í•œ ì‚¬ì´íŠ¸ ë‚´ë¶€ ì¬í™” ì‚¬ìš©
	ë¯¸ë‹ˆë¯¸ êµ¬ë§¤ í…Œì´ë¸” --> ìƒí’ˆ êµ¬ë§¤ í…Œì´ë¸”ë¡œ ë³€ê²½
	ìƒí’ˆ ê²°ì œ í…Œì´ë¸” ì¶”ê°€
	Sign í…Œì´ë¸” --> Sign, UserLogin, UserProfile, UserMain í…Œì´ë¸” ì •ê·œí™”
	Sign í…Œì´ë¸”ì˜ ì»¬ëŸ¼ë“¤ì„ ê°ê° ì‚¬ìš©ì²˜ì— ë§ê²Œ ë¶„ë¦¬í•œ í›„ ê° í…Œì´ë¸”ì˜ ê³ ìœ  í‚¤ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½í•˜ì—¬ ìœ ì € ì •ë³´ ë³´ì•ˆ ê°•í™”
	ìœ ì € ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë‹´ë‹¹í•˜ëŠ” UserLogin í…Œì´ë¸”, ìœ ì € í”„ë¡œí•„ ì •ë³´ë¥¼ ë‹´ë‹¹í•˜ëŠ” UserProfile í…Œì´ë¸”, ìœ ì € ë©”ì¸ ì •ë³´ë¥¼ ë‹´ë‹¹í•˜ëŠ” UserMain í…Œì´ë¸”ì„ ê°ê° ì¶”ê°€
	CSS Media Queryì™€ JS Resize Eventë¥¼ ì‚¬ìš©í•˜ì—¬ ë©”ì¸ í˜ì´ì§€ì— ë°˜ì‘í˜• ì›¹ ì ìš©
	WebSocketê³¼ STOMPë¥¼ ì‚¬ìš©í•˜ì—¬ 1:1 ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥ êµ¬í˜„
	ì±„íŒ… ë° ë…¹ìŒ ë©”ì‹œì§€ ì „ì†¡
	ë©”ì‹œì§€ ì½ìŒ / ì•ˆ ì½ìŒ êµ¬ë¶„
	ì±„íŒ… ì •ë³´ ì €ì¥ìš© MongoDB ì¶”ê°€
	CSS Media Queryì™€ JS Resize Eventë¥¼ ì‚¬ìš©í•˜ì—¬ ì±„íŒ… í˜ì´ì§€ì— ë°˜ì‘í˜• ì›¹ ì ìš©
	ì±„íŒ…ë°© ì •ë³´ì— ì•ˆ ì½ì€ ë©”ì‹œì§€ ìˆ˜ í‘œì‹œ
	Users ì»¬ë ‰ì…˜ì˜ chatRoomsì— unreadStatus ì¶”ê°€
	AWSë¥¼ í†µí•´ HTTPS ì¶”ê°€
	WebSocketì„ ì‚¬ìš©í•˜ì—¬ WebRTCì™€ Signaling Serverë¥¼ í†µí•´ 1:1 ì‹¤ì‹œê°„ ì˜ìƒ í†µí™” ê¸°ëŠ¥ êµ¬í˜„
	ì•ˆ ì½ì€ ë©”ì‹œì§€ ìˆ˜ì— ë”°ë¼ ì‹¤ì‹œê°„ ì±„íŒ…ë°© ìƒíƒœ ê°±ì‹  ê¸°ëŠ¥ êµ¬í˜„
	CSS Media Queryì™€ JS Resize Eventë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸ í˜ì´ì§€ì— ë°˜ì‘í˜• ì›¹ ì ìš©

#

## ğŸ“Œ ê°œë°œí™˜ê²½
	Mac
	Eclipse --> Intellij
	Spring --> Spring Boot
	Maven --> Gradle
	MyBatis --> JPA
	Oracle --> MySQL
	ë¨¼ì € ì™¼ìª½ í™˜ê²½ìœ¼ë¡œ ì œì‘ì„ í•˜ì˜€ê³ , ì´í›„ AWSë¥¼ í†µí•´ CyworldProjectë¥¼ ì„œë²„ì— ë°°í¬í•˜ê¸° ìœ„í•´ ìƒˆë¡œìš´ í™˜ê²½ìœ¼ë¡œ ì¬êµ¬ì„± í•˜ì˜€ìŠµë‹ˆë‹¤.
	Redis - ë¡œê·¸ì¸ í† í° ì €ì¥ìš© ë°ì´í„° ìŠ¤í† ì–´
	MongoDB - ì±„íŒ… ì •ë³´ ì €ì¥ìš© NoSQL ë°ì´í„°ë² ì´ìŠ¤

#

## ğŸ“Œ ë°ì´í„°ë² ì´ìŠ¤
## MySQL - SQL
### âœ” DATABASE - Cyworld
	# ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
	CREATE DATABASE Cyworld DEFAULT CHARACTER SET UTF8MB4;
	# ìƒì„±í•œ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©
	USE Cyworld;
### âœ” TABLE - Sign, UserLogin, UserProfile, UserMain, Views, Ilchon, Ilchonpyeong, BuyProduct, Diary, Gallery, GalleryLike, GalleryComment, Guestbook, GuestbookLike, ApiKey, ApiConsent, Product, PayProduct
	# í…Œì´ë¸” ìƒì„±
	
	# ìœ ì € í‚¤ í…Œì´ë¸”
	CREATE TABLE Sign (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		mUid VARCHAR(255) NOT NULL UNIQUE, # ìœ ì € ë©”ì¸ ì •ë³´ í…Œì´ë¸” í‚¤
		pUid VARCHAR(255) NOT NULL UNIQUE, # ìœ ì € í”„ë¡œí•„ ì •ë³´ í…Œì´ë¸” í‚¤
		lUid VARCHAR(255) NOT NULL UNIQUE, # ìœ ì € ë¡œê·¸ì¸ ì •ë³´ í…Œì´ë¸” í‚¤
		platform VARCHAR(10) NOT NULL, # í”Œë«í¼
		roles VARCHAR(255) NOT NULL, # ê¶Œí•œ
		consent INT # API ë™ì˜ í•­ëª© ì²´í¬
	);
	
	# ìœ ì € ë¡œê·¸ì¸ ì •ë³´ í…Œì´ë¸”
	CREATE TABLE UserLogin (
		idx VARCHAR(255) PRIMARY KEY, # IDX - í…Œì´ë¸” í‚¤
		CONSTRAINT fk_UserLoginIdx FOREIGN KEY(idx) REFERENCES Sign(lUid) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		userId VARCHAR(255) NOT NULL UNIQUE, # ID - ì•”í˜¸í™”
		info VARCHAR(255) NOT NULL # PW - ì•”í˜¸í™”
	);
	
	# ìœ ì € í”„ë¡œí•„ ì •ë³´ í…Œì´ë¸”
	CREATE TABLE UserProfile (
		idx VARCHAR(255) PRIMARY KEY, # IDX - í…Œì´ë¸” í‚¤
		CONSTRAINT fk_UserProfileIdx FOREIGN KEY(idx) REFERENCES Sign(pUid) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		email VARCHAR(50) NOT NULL UNIQUE, # Email
		gender VARCHAR(5) NOT NULL, # ì„±ë³„
		name VARCHAR(15) NOT NULL, # ì´ë¦„
		birthday VARCHAR(10) NOT NULL, # ìƒë…„ì›”ì¼
		phoneNumber VARCHAR(30) NOT NULL UNIQUE # íœ´ëŒ€ì „í™”
	);
	
	# ìœ ì € ë©”ì¸ ì •ë³´ í…Œì´ë¸”
	CREATE TABLE UserMain (
		idx VARCHAR(255) PRIMARY KEY, # IDX - í…Œì´ë¸” í‚¤
		CONSTRAINT fk_UserMainIdx FOREIGN KEY(idx) REFERENCES Sign(mUid) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		dotory INT NOT NULL, # ë„í† ë¦¬ ê°œìˆ˜
		minimi VARCHAR(30) NOT NULL, # ë¯¸ë‹ˆë¯¸
		ilchon INT NOT NULL, # ì¼ì´Œ ìˆ˜
		mainTitle VARCHAR(100), # ë©”ì¸ íƒ€ì´í‹€
		mainPhoto VARCHAR(100), # ë©”ì¸ ì‚¬ì§„
		mainText VARCHAR(255), # ë©”ì¸ ì†Œê°œê¸€
		today INT NOT NULL, # ì¼ì¼ ì¡°íšŒìˆ˜
		total INT NOT NULL, # ì´í•© ì¡°íšŒìˆ˜
		toDate VARCHAR(20) NOT NULL # ì ‘ì† ì¼ì
	);
	
	# ì¡°íšŒìˆ˜ í…Œì´ë¸”
	CREATE TABLE Views (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		viewsIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		viewsSessionIdx INT NOT NULL, # ë¡œê·¸ì¸ ìœ ì € IDX
		todayDate VARCHAR(20) NOT NULL # ì ‘ì† ì¼ì
	);
	
	# ì¼ì´Œ í…Œì´ë¸”
	CREATE TABLE Ilchon (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		ilchonIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		CONSTRAINT fk_IlchonIdx FOREIGN KEY(ilchonIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		ilchonSessionIdx INT NOT NULL, # ë¡œê·¸ì¸ ìœ ì € IDX
		CONSTRAINT fk_IlchonSessionIdx FOREIGN KEY(ilchonSessionIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		ilchonName VARCHAR(100) NOT NULL, # ì¼ì´Œ ì´ë¦„
		ilchonUp INT NOT NULL # ì¼ì´Œ ìƒíƒœ
	);
	
	
	# ì¼ì´Œí‰ í…Œì´ë¸”
	CREATE TABLE Ilchonpyeong (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		ilchonpyeongIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		CONSTRAINT fk_IlchonpyeongIdx FOREIGN KEY(ilchonpyeongIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		ilchonpyeongSessionName VARCHAR(50), # ë¡œê·¸ì¸ ìœ ì € ì´ë¦„
		ilchonpyeongContent VARCHAR(255) NOT NULL # ì¼ì´Œí‰ ë‚´ìš©
	);
	
	# ìƒí’ˆ êµ¬ë§¤ í…Œì´ë¸”
	CREATE TABLE BuyProduct (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		buyIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		CONSTRAINT fk_BuyIdx FOREIGN KEY(buyIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		buyName VARCHAR(50) NOT NULL UNIQUE # êµ¬ë§¤í•œ ìƒí’ˆ ì´ë¦„
	);
	
	# ë‹¤ì´ì–´ë¦¬ í…Œì´ë¸”
	CREATE TABLE Diary (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		diaryIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		CONSTRAINT fk_DiaryIdx FOREIGN KEY(diaryIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		diaryRegDate VARCHAR(30) NOT NULL, # ë‹¤ì´ì–´ë¦¬ ê¸€ ì‘ì„± ì¼ì
		diaryContent VARCHAR(255) NOT NULL # ë‹¤ì´ì–´ë¦¬ ê¸€ ë‚´ìš©
	);
	
	# ê°¤ëŸ¬ë¦¬ í…Œì´ë¸”
	CREATE TABLE Gallery (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		galleryIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		CONSTRAINT fk_GalleryIdx FOREIGN KEY(galleryIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		galleryTitle VARCHAR(100) NOT NULL, # ê²Œì‹œê¸€ ì œëª©
		galleryRegDate VARCHAR(30) NOT NULL, # ê²Œì‹œê¸€ ì‘ì„± ì¼ì
		galleryContent VARCHAR(255) NOT NULL, # ê²Œì‹œê¸€ ë‚´ìš©
		galleryFileName VARCHAR(50) NOT NULL, # ê²Œì‹œê¸€ íŒŒì¼ ì´ë¦„
		galleryFileExtension VARCHAR(10) NOT NULL, # ê²Œì‹œê¸€ íŒŒì¼ í™•ì¥ì
		galleryLikeNum INT NOT NULL # ê²Œì‹œê¸€ ì¢‹ì•„ìš” ìˆ˜
	);
	
	# ê°¤ëŸ¬ë¦¬ ì¢‹ì•„ìš” í…Œì´ë¸”
	CREATE TABLE GalleryLike (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		galleryLikeIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		CONSTRAINT fk_GalleryLikeIdx FOREIGN KEY(galleryLikeIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		galleryLikeRef INT NOT NULL, # ê²Œì‹œê¸€ ë²ˆí˜¸
		CONSTRAINT fk_GalleryLikeRef FOREIGN KEY(galleryLikeRef) REFERENCES Gallery(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		galleryLikeSessionIdx INT NOT NULL, # ë¡œê·¸ì¸ ìœ ì € IDX
		CONSTRAINT fk_GalleryLikeSessionIdx FOREIGN KEY(galleryLikeSessionIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE # í¬ë¦°í‚¤ ì—°ê²°
	);
	
	# ê°¤ëŸ¬ë¦¬ ëŒ“ê¸€ í…Œì´ë¸”
	CREATE TABLE GalleryComment (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		galleryCommentIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		CONSTRAINT fk_GalleryCommentIdx FOREIGN KEY(galleryCommentIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		galleryIdxComment INT NOT NULL, # ê²Œì‹œê¸€ ë²ˆí˜¸
		CONSTRAINT fk_GalleryIdxComment FOREIGN KEY(galleryIdxComment) REFERENCES Gallery(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		galleryCommentSessionIdx INT NOT NULL, # ë¡œê·¸ì¸ ìœ ì € IDX
		CONSTRAINT fk_GalleryCommentSessionIdx FOREIGN KEY(galleryCommentSessionIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		galleryCommentName VARCHAR(50) NOT NULL, # ê²Œì‹œê¸€ ëŒ“ê¸€ ì‘ì„±ì ì´ë¦„
		galleryCommentRegDate VARCHAR(30) NOT NULL, # ê²Œì‹œê¸€ ëŒ“ê¸€ ì‘ì„± ì¼ì
		galleryCommentContent VARCHAR(255) NOT NULL, # ê²Œì‹œê¸€ ëŒ“ê¸€ ë‚´ìš©
		galleryCommentDeleteCheck INT NOT NULL # ê²Œì‹œê¸€ ëŒ“ê¸€ ì‚­ì œ ì—¬ë¶€
	);
	
	# ë°©ëª…ë¡ í…Œì´ë¸”
	CREATE TABLE Guestbook (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		guestbookIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		CONSTRAINT fk_GuestbookIdx FOREIGN KEY(guestbookIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		guestbookSessionIdx INT NOT NULL, # ë¡œê·¸ì¸ ìœ ì € IDX
		CONSTRAINT fk_GuestbookSessionIdx FOREIGN KEY(guestbookSessionIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		guestbookName VARCHAR(50) NOT NULL, # ë°©ëª…ë¡ ì‘ì„±ì ì´ë¦„
		guestbookMinimi VARCHAR(50) NOT NULL, # ë°©ëª…ë¡ ì‘ì„±ì ë¯¸ë‹ˆë¯¸
		guestbookRegDate VARCHAR(30) NOT NULL, # ë°©ëª…ë¡ ì‘ì„± ì¼ì
		guestbookContent VARCHAR(255) NOT NULL, # ë°©ëª…ë¡ ë‚´ìš©
		guestbookLikeNum INT NOT NULL, # ë°©ëª…ë¡ ì¢‹ì•„ìš” ìˆ˜
		guestbookSecretCheck INT NOT NULL # ë°©ëª…ë¡ ë¹„ë°€ ì—¬ë¶€
	);
	
	# ë°©ëª…ë¡ ì¢‹ì•„ìš” í…Œì´ë¸”
	CREATE TABLE GuestbookLike (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		guestbookLikeIdx INT NOT NULL, # ë¯¸ë‹ˆí™ˆí”¼ ìœ ì € IDX
		CONSTRAINT fk_GuestbookLikeIdx FOREIGN KEY(guestbookLikeIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		guestbookLikeRef INT NOT NULL, # ë°©ëª…ë¡ ë²ˆí˜¸
		CONSTRAINT fk_GuestbookLikeRef FOREIGN KEY(guestbookLikeRef) REFERENCES Guestbook(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		guestbookLikeSessionIdx INT NOT NULL, # ë¡œê·¸ì¸ ìœ ì € IDX
		CONSTRAINT fk_GuestbookLikeSessionIdx FOREIGN KEY(guestbookLikeSessionIdx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE # í¬ë¦°í‚¤ ì—°ê²°
	);
	
	# API ì •ë³´ í…Œì´ë¸”
	CREATE TABLE ApiKey (
		idx INT PRIMARY KEY, # ë¡œê·¸ì¸ ìœ ì € IDX
		CONSTRAINT fk_ApiKeyIdx FOREIGN KEY(idx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		clientId VARCHAR(255) NOT NULL UNIQUE, # API Client ID Key
		clientSecret VARCHAR(255) NOT NULL UNIQUE, # API Client Secret Key
		redirectUri VARCHAR(255), # API Redirect URI
		gender INT, # ì„±ë³„ ë™ì˜ í•­ëª©
		name INT, # ì´ë¦„ ë™ì˜ í•­ëª©
		birthday INT, # ìƒë…„ì›”ì¼ ë™ì˜ í•­ëª©
		phoneNumber INT, # íœ´ëŒ€í° ë²ˆí˜¸ ë™ì˜ í•­ëª©
		email INT # ì´ë©”ì¼ ë™ì˜ í•­ëª©
	);
	
	# API ë™ì˜ í•­ëª© ì²´í¬ í…Œì´ë¸”
	CREATE TABLE ApiConsent (
		idx INT PRIMARY KEY, # ë¡œê·¸ì¸ ìœ ì € IDX
		CONSTRAINT fk_ApiConsentIdx FOREIGN KEY(idx) REFERENCES Sign(idx) ON DELETE CASCADE ON UPDATE CASCADE, # í¬ë¦°í‚¤ ì—°ê²°
		gender INT, # ì„±ë³„ ë™ì˜ í•­ëª©
		name INT, # ì´ë¦„ ë™ì˜ í•­ëª©
		birthday INT, # ìƒë…„ì›”ì¼ ë™ì˜ í•­ëª©
		phoneNumber INT, # íœ´ëŒ€í° ë²ˆí˜¸ ë™ì˜ í•­ëª©
		email INT # ì´ë©”ì¼ ë™ì˜ í•­ëª©
	);
	
	# ìƒí’ˆ ì •ë³´ í…Œì´ë¸”
	CREATE TABLE Product (
		idx INT PRIMARY KEY AUTO_INCREMENT, # IDX - ê¸°ë³¸í‚¤, ì‹œí€€ìŠ¤
		productType INT NOT NULL, # ìƒí’ˆ íƒ€ì…
		productIdx VARCHAR(255) NOT NULL, # ìƒí’ˆ ë²ˆí˜¸
		name VARCHAR(50) NOT NULL, # ìƒí’ˆ ì´ë¦„
		price INT NOT NULL # ìƒí’ˆ ê°€ê²©
	);
	
	# ìƒí’ˆ ê²°ì œ í…Œì´ë¸”
	CREATE TABLE PayProduct (
		orderId VARCHAR(255) PRIMARY KEY, # ìƒí’ˆ ì£¼ë¬¸ ë²ˆí˜¸
		idx INT NOT NULL, # ë¡œê·¸ì¸ ìœ ì € IDX
		name VARCHAR(50) NOT NULL # ìƒí’ˆ ì´ë¦„
	);

#

## MongoDB - NoSQL
### âœ” DATABASE - Cyworld
	# ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ë° ì‚¬ìš©
	USE Cyworld
	# ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ì ìƒì„±
	db.createUser( { user: "ì•„ì´ë””", pwd: "ë¹„ë°€ë²ˆí˜¸", roles: [ { role: "dbOwner", db: "Cyworld" } ] } )
	# ë°ì´í„°ë² ì´ìŠ¤ ì¡°ì‘ì ìƒì„±
	db.createUser( { user: "ì•„ì´ë””", pwd: "ë¹„ë°€ë²ˆí˜¸", roles: [ { role: "readWrite", db: "Cyworld" } ] } )

### âœ” COLLECTION - Users, ChatRooms
	# ì»¬ë ‰ì…˜ ìƒì„±
	db.createCollection( "Users", { capped: true, size: 10000 } )
	db.createCollection( "ChatRooms", { capped: true, size: 10000 } )

	# ìœ ì € ì •ë³´ ì»¬ë ‰ì…˜
	"Users": [
		{
			"_id": "ìœ ì € idx",
			"chatRooms": [
				{"_id": "ì±„íŒ…ë°© ì•„ì´ë””1", "idx": "ìƒëŒ€ ìœ ì € idx", "email": "ìƒëŒ€ ìœ ì € ì´ë©”ì¼", "name": "ìƒëŒ€ ìœ ì € ì´ë¦„", "mainPhoto": "ìƒëŒ€ ìœ ì € ë©”ì¸ ì‚¬ì§„", "unreadStatus": "ì•ˆ ì½ì€ ë©”ì‹œì§€ ìˆ˜"},
				{"_id": "ì±„íŒ…ë°© ì•„ì´ë””2", "idx": "ìƒëŒ€ ìœ ì € idx", "email": "ìƒëŒ€ ìœ ì € ì´ë©”ì¼", "name": "ìƒëŒ€ ìœ ì € ì´ë¦„", "mainPhoto": "ìƒëŒ€ ìœ ì € ë©”ì¸ ì‚¬ì§„", "unreadStatus": "ì•ˆ ì½ì€ ë©”ì‹œì§€ ìˆ˜"}
			]
		},
		{
			"_id": "ìœ ì € idx",
			"chatRooms": [
				{"_id": "ì±„íŒ…ë°© ì•„ì´ë””1", "idx": "ìƒëŒ€ ìœ ì € idx", "email": "ìƒëŒ€ ìœ ì € ì´ë©”ì¼", "name": "ìƒëŒ€ ìœ ì € ì´ë¦„", "mainPhoto": "ìƒëŒ€ ìœ ì € ë©”ì¸ ì‚¬ì§„", "unreadStatus": "ì•ˆ ì½ì€ ë©”ì‹œì§€ ìˆ˜"},
				{"_id": "ì±„íŒ…ë°© ì•„ì´ë””3", "idx": "ìƒëŒ€ ìœ ì € idx", "email": "ìƒëŒ€ ìœ ì € ì´ë©”ì¼", "name": "ìƒëŒ€ ìœ ì € ì´ë¦„", "mainPhoto": "ìƒëŒ€ ìœ ì € ë©”ì¸ ì‚¬ì§„", "unreadStatus": "ì•ˆ ì½ì€ ë©”ì‹œì§€ ìˆ˜"}
			]
		}
	]

	# ì±„íŒ…ë°© ì •ë³´ ì»¬ë ‰ì…˜
	"ChatRooms": [
		{
			"_id": "ì±„íŒ…ë°© ì•„ì´ë””1",
			"messages": [
				{"type": "ë©”ì‹œì§€ íƒ€ì…", "idx": "ì „ì†¡ ìœ ì € idx", "sender": "ì „ì†¡ ìœ ì € ì´ë¦„", "mainPhoto": "ì „ì†¡ ìœ ì € ë©”ì¸ ì‚¬ì§„", "content": "ë©”ì‹œì§€ ë‚´ìš©", "status": "ë©”ì‹œì§€ ìƒíƒœ"},
				{"type": "ë©”ì‹œì§€ íƒ€ì…", "idx": "ì „ì†¡ ìœ ì € idx", "sender": "ì „ì†¡ ìœ ì € ì´ë¦„", "mainPhoto": "ì „ì†¡ ìœ ì € ë©”ì¸ ì‚¬ì§„", "content": "ë©”ì‹œì§€ ë‚´ìš©", "status": "ë©”ì‹œì§€ ìƒíƒœ"}
			]
		},
		{
			"_id": "ì±„íŒ…ë°© ì•„ì´ë””2",
			"messages": [
				{"type": "ë©”ì‹œì§€ íƒ€ì…", "idx": "ì „ì†¡ ìœ ì € idx", "sender": "ì „ì†¡ ìœ ì € ì´ë¦„", "mainPhoto": "ì „ì†¡ ìœ ì € ë©”ì¸ ì‚¬ì§„", "content": "ë©”ì‹œì§€ ë‚´ìš©", "status": "ë©”ì‹œì§€ ìƒíƒœ"},
				{"type": "ë©”ì‹œì§€ íƒ€ì…", "idx": "ì „ì†¡ ìœ ì € idx", "sender": "ì „ì†¡ ìœ ì € ì´ë¦„", "mainPhoto": "ì „ì†¡ ìœ ì € ë©”ì¸ ì‚¬ì§„", "content": "ë©”ì‹œì§€ ë‚´ìš©", "status": "ë©”ì‹œì§€ ìƒíƒœ"}
			]
		},
		{
			"_id": "ì±„íŒ…ë°© ì•„ì´ë””3",
			"messages": [
				{"type": "ë©”ì‹œì§€ íƒ€ì…", "idx": "ì „ì†¡ ìœ ì € idx", "sender": "ì „ì†¡ ìœ ì € ì´ë¦„", "mainPhoto": "ì „ì†¡ ìœ ì € ë©”ì¸ ì‚¬ì§„", "content": "ë©”ì‹œì§€ ë‚´ìš©", "status": "ë©”ì‹œì§€ ìƒíƒœ"},
				{"type": "ë©”ì‹œì§€ íƒ€ì…", "idx": "ì „ì†¡ ìœ ì € idx", "sender": "ì „ì†¡ ìœ ì € ì´ë¦„", "mainPhoto": "ì „ì†¡ ìœ ì € ë©”ì¸ ì‚¬ì§„", "content": "ë©”ì‹œì§€ ë‚´ìš©", "status": "ë©”ì‹œì§€ ìƒíƒœ"}
			]
		}
	]

#

## ğŸ“Œ Cyworld Login API ê°€ì´ë“œ
### âœ” API Login Code ë°œê¸‰
	GET http://localhost:9999/api/cyworld - API ê²€ì¦ --> API ë¡œê·¸ì¸ --> API ë™ì˜ í•­ëª© --> API Login Code ë°œê¸‰
	"?clientId=" + Client ID Key + "&redirectUri=" + Redirect URI
	ì •ìƒ
	Redirect URI + "?code=" + API Login Code
	ì—ëŸ¬ - API ì—ëŸ¬ í˜ì´ì§€
	http://localhost:9999/api/error + "?code=" + Error Message
### âœ” API Access Token ë°œê¸‰
	POST http://localhost:9999/api/token - API ê²€ì¦ --> API Login Code ê²€ì¦ --> API Login Access Token ë°œê¸‰
	Body "clientId": Client ID Key,
	     "clientSecret": Client Secret Key,
	     "redirectUri": Redirect URI,
	     "code": API Login Code
	ì •ìƒ
	{"accessToken": API Access Token}
	ì—ëŸ¬
	{"accessToken": Error Code,
	 "message": Error Message}
### âœ” API ìœ ì € ì •ë³´ ì¡°íšŒ
	POST http://localhost:9999/api/user - API Login Access Token ê²€ì¦ --> API ìœ ì € ì •ë³´ ì¡°íšŒ
	Header "Authorization": "Bearer " + API Access Token
	ì •ìƒ - ë™ì˜ í•­ëª© ë™ì˜
	{"birthday": yyyy-MM-dd,
	 "phoneNumber": 01012345678,
	 "gender": male/female,
	 "name": í…ŒìŠ¤í„°,
	 "email": cyworld@cyworld.com}
	ì •ìƒ - ë™ì˜ í•­ëª© ë¯¸ë™ì˜
	{"birthday": null,
	 "phoneNumber": null,
	 "gender": null,
	 "name": null,
	 "email": null}
	ì—ëŸ¬ - Invalid API Access Token
	{"user": Error Code}
	ì—ëŸ¬ - Invalid User
	{"user": null}

#
